<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Events</title>
    <link rel="stylesheet" href="stylesheets/events_css.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/ev-css.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/ev_css-2.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.2/TweenMax.min.js"></script>
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin.min.js"></script>
    <link rel="shortcut icon" href="stylesheets/final_logo.jpg">
    <script src="events.js"></script>
</head>
<body>
<div class="event-details" id = "Competitive">
        <div id="container">
				<div id="spons">
					<div class="spimg" id="spons1"></div>
					<div id="spname">Aurora</div>
		    	</div>
		    	<div id="spons">
					<div class="spimg" id="spons2"></div>
					<div id="spname">Chemigraphy</div>
		    	</div>
		    	<div id="spons">
					<div class="spimg" id="spons3"></div>
					<div id="spname">Industry 101</div>
				</div>
                <div id="spons">
					<div class="spimg" id="spons4"></div>
					<div id="spname">Chem-E-Car</div>
				</div>
                <div id="spons">
					<div class="spimg" id="spons4"></div>
					<div id="spname">Chem-q-tempore</div>
				</div>
		</div>
</div>
<div class="Return">&#127485</div>
<div class = "event-details" id = "fun">
        <div id="container">
				<div id="spons">
					<div class="spimg" id="spons5"></div>
					<div id="spname">Chemhunt</div>
		    	</div>
		    	<div id="spons">
					<div class="spimg" id="spons6"></div>
					<div id="spname">Chem-charades</div>
		    	</div>
		    	<div id="spons">
					<div class="spimg" id="spons7"></div>
					<div id="spname">Scrapyard</div>
				</div>
                <div id="spons">
					<div class="spimg" id="spons8"></div>
					<div id="spname">Chem-E-Quiz</div>
				</div>

		</div>
</div>
<div class="main">
  <button class="checkpoint01 checkpoint" id="1">Talks</button>
  <button class="checkpoint02 checkpoint" id="2">Work-Shops</button>
  <button class="checkpoint03 checkpoint" id="3">Live Events</button>
  <button class="checkpoint04 checkpoint" id="4">Fun</button>
</div>
  <div class="blobsWrapper">
    <div class="section"></div>
    <div class="section"></div>
    <div class="section"></div>
    <div class="section"><a href="#">Recreation</a></div>
    <div class="section section04"><a href="#">Competitive</a></div>
    <div class="section section03"><a href="#">Workshops</a></div>
    <div class="section section02"><a href="#">Talks</a></div>
    <div class="section section01"><a href="#">Scroll Down</a></div>
  </div>


<div class="half"></div>
</body>
<script>
    console.clear();

TweenMax.set("h1, .checkpoint",{yPercent:-50, autoAlpha:1});
TweenMax.set(".end h1",{xPercent:-50, autoAlpha:1});
TweenMax.set(".end",{xPercent:-50, y:-120});
TweenLite.defaultEase = Sine.easeInOut;

var half = window.innerHeight/2;

  //Checkpoints:  adjust each as you want
  TweenMax.set(".checkpoint01", {y:500});
  TweenMax.set(".checkpoint02", {y:1000});
  TweenMax.set(".checkpoint03", {y:1500});
  TweenMax.set(".checkpoint04", {y:2000});

var sections = $('.section');


  TweenMax.staggerTo(sections,0,{
    cycle:{
      width:function(index){
         return (index+1) * 10+30 +"vw";
      },
      height:function(index){
        return (index+1) * 10+30 +"vw";
      },
      borderRadius:function(index){
        return (index+1) * 10+30 +"vw";
      },
      background:['black', '#424242','#282828']
    }
  },-0.1)


var active01 = false;
var blobAnimation01 = new TimelineMax({paused:true, onStart:stop01})
.to(".section01", 0.5, {scale:0, transformOrigin:"center"})
.to(".section01",0, {autoAlpha:0})
.staggerTo(".section",0.2,{scale:0.9,transformOrigin:"center"},-0.1)

var active02 = false;
var blobAnimation02 = new TimelineMax({paused:true, onStart:stop02})
.to(".section02", 0.3, {scale:0, transformOrigin:"center"})
.to(".section02",0, {autoAlpha:0})
.staggerTo(".section",0.3,{scale:0.8,transformOrigin:"center"},-0.1)

var active03 = false;
var blobAnimation03 = new TimelineMax({paused:true, onStart:stop03})
.to(".section03", 0.3, {scale:0, transformOrigin:"center"})
.to(".section03",0, {autoAlpha:0})
.staggerTo(".section",0.3,{scale:0.7,transformOrigin:"center"},-0.1)

var active04 = false;
var blobAnimation04 = new TimelineMax({paused:true, onStart:stop04})
.to(".section04", 0.3, {scale:0, transformOrigin:"center"})
.to(".section04",0, {autoAlpha:0})
.staggerTo(".section",0.3,{scale:0.6,transformOrigin:"center"},-0.1)

function stop01 (){
  active01 = true;
}
function stop02 (){
  active02 = true;
}
function stop03 (){
  active03 = true;
}
function stop04 (){
  active04 = true;
}

  onResize = function() {

    $( window ).scroll(function() {

      var object01 = $('.checkpoint01').offset().top - $(window).scrollTop() -half+10;
      var object02 = $('.checkpoint02').offset().top - $(window).scrollTop() -half+10;
      var object03 = $('.checkpoint03').offset().top - $(window).scrollTop() -half+10;
      var object04 = $('.checkpoint04').offset().top - $(window).scrollTop() -half+10;


      if(!active01 && object01 <= 0 ) {
        blobAnimation01.restart();
        TweenLite.set('.checkpoint01',{background:"#282828"});
      }
      else if(object01 > 0 ) {
        blobAnimation01.reverse();
        TweenLite.set('.checkpoint01',{display:"hidden"});
        active01 = false;
      }

      if(!active02 && object02 <= 0 ) {
        blobAnimation02.restart();
        TweenLite.set('.checkpoint02',{background:"#282828"});
      }
      else if(object02 > 0 ) {
        blobAnimation02.reverse();
        TweenLite.set('.checkpoint02',{display:"hidden"});
        active02 = false;
      }

      if(!active03 && object03 <= 0 ) {
        blobAnimation03.restart();
        TweenLite.set('.checkpoint03',{background:"#282828"});
      }
      else if(object03 > 0 ) {
        blobAnimation03.reverse();
        TweenLite.set('.checkpoint03',{display:"hidden"});
        active03 = false;
      }

      if(!active04 && object04 <= 0 ) {
        blobAnimation04.restart();
        TweenLite.set('.checkpoint04',{background:"#282828"});
      }
      else if(object04 > 0 ) {
        blobAnimation04.reverse();
        TweenLite.set('.checkpoint04',{display:"hidden"});
        active04 = false;
      }

    console.log(object01);
    });
  }

  $(document).ready(onResize);
  $(window).resize(onResize);

</script>
<script type="text/javascript">
    intitiator = document.getElementById("3");
    button_2 = document.getElementById("4");
    modal = document.getElementById("Competitive");
    brodal = document.getElementById("fun");
    blob = document.getElementsByClassName("blobsWrapper")[0];
    main = document.getElementsByClassName("main")[0];
    close_button = document.getElementsByClassName("Return")[0];
    button_2.onclick = function(){
    	brodal.style.opacity = "1";
    	brodal.style.transition = "1s";
    	close_button.style.display = "block";
    	document.documentElement.scrollTop = 0;
    	blob.style.opacity = "0";
    	main.style.opacity = "0";
	}
    intitiator.onclick = function () {
        modal.style.opacity = "1";
        modal.style.transition = "1s";
        close_button.style.display = "block";
        document.documentElement.scrollTop =0;
        blob.style.opacity = "0";
        main.style.opacity = "0";
    };
    close_button.onclick = function () {
    	modal.style.opacity = "0";
    	modal.style.transition = "1s";
    	brodal.style.opacity = "0";
		close_button.style.display = "none";
		blob.style.opacity = "1";
		blob.style.transition = "1s";
		main.style.opacity = "1";
		main.style.transition = "1s";
	}
</script>
<script>
	chemhunt = document.getElementById("")
</script>
</html>